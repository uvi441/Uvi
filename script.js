const searchInput=document.getElementById("search-input"),searchButton=document.getElementById("search-button"),resultsContainer=document.getElementById("results-container"),audioPlayer=document.getElementById("audio-player"),playerThumbnail=document.getElementById("player-thumbnail"),playerTitle=document.getElementById("player-title"),playPauseButton=document.getElementById("play-pause-button");const API_KEY="AIzaSyBp7wPp0lTDMoURAmoA8jB2hP8qc-36zGU";searchButton.addEventListener("click",()=>{const e=searchInput.value;e&&searchSongs(e)}),async function searchSongs(e){resultsContainer.innerHTML='<p class="placeholder-text">Searching...</p>';const t=`https://www.googleapis.com/youtube/v3/search?part=snippet&q=${e}+lyrics&type=video&videoCategoryId=10&key=${API_KEY}&maxResults=20`;try{const e=await fetch(t),o=await e.json();displayResults(o.items)}catch(e){console.error("Error fetching data:",e),resultsContainer.innerHTML='<p class="placeholder-text">Error! Check API Key or internet.</p>'}}function displayResults(e){resultsContainer.innerHTML="",e&&0!==e.length?e.forEach(e=>{const t=document.createElement("div");t.className="song-item",t.innerHTML=`\n            <img src="${e.snippet.thumbnails.default.url}" alt="thumbnail">\n            <div class="song-item-info">\n                <h4>${e.snippet.title.replace(/&/g,"&").replace(/"/g,'"')}</h4>\n                <p>${e.snippet.channelTitle}</p>\n            </div>\n        `,t.addEventListener("click",()=>{playerTitle.textContent=e.snippet.title.replace(/&/g,"&").replace(/"/g,'"'),playerThumbnail.src=e.snippet.thumbnails.high.url,alert("Playing: "+e.snippet.title+"\n(Audio playback feature coming soon!)")}),resultsContainer.appendChild(t)}):resultsContainer.innerHTML='<p class="placeholder-text">No songs found.</p>'}playPauseButton.addEventListener("click",()=>{audioPlayer.paused?(audioPlayer.play(),playPauseButton.textContent="Pause"):(audioPlayer.pause(),playPauseButton.textContent="Play")});
